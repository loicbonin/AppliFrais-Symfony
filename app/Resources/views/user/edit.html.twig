{% extends 'base.html.twig' %}
{% block nav %}
    <nav class="blue darken-4">
        <div class="nav-wrapper">
            {% if is_granted("ROLE_ADMIN") %}
                <a href="{{ path('index_admin') }}" class="brand-logo"><img class="logo" src="{{ asset('img/logo.png') }}"></a>
            {% else %}
                <a href="{{ path('fichefrais_index') }}" class="brand-logo"><img class="logo" src="{{ asset('img/logo.png') }}"></a>
            {% endif %}
            <ul id="nav-mobile" class="right hide-on-med-and-down">
                {% if is_granted("IS_AUTHENTICATED_REMEMBERED") %}
                    <li><a href="{{ path('user_show', { 'id': app.user.id, 'user': app.user }) }}"><i class="material-icons left">person</i>{{ app.user.username }}</a></li>
                    <li><a href="{{ path('fos_user_security_logout') }}"><i class="material-icons left">exit_to_app</i>Déconnexion</a></li>
                {% else %}
                    <li><a href="{{ path('fos_user_security_login') }}">Connexion</a></li>
                {% endif %}
            </ul>
        </div>
    </nav
    </div>
{% endblock %}

{% block body %}

    <div style="margin: 25px;">
        <i class="material-icons left">person</i>Mes informations
        <div class="divider"></div>
    </div>

    <div class="card" style="padding: 30px;">

        {{ form_start(edit_form) }}
            {{ form_widget(edit_form._token) }}
            <div class="row">
                <div class="col m6 s12">
                    {{ form_row(edit_form.firstName, {'attr': {'class': 'validate',}}) }}
                </div>
                <div class="col m6 s12">
                    {{ form_row(edit_form.lastName, {'attr': {'class': 'validate',}}) }}
                </div>
                <div class="col m6 s12">
                    {{ form_row(edit_form.job, {'attr': {'class': 'validate',}}) }}
                </div>
                <div class="col m6 s12">
                    {{ form_row(edit_form.address, {'attr': {'class': 'validate',}}) }}
                </div>
                <div class="col m6 s12">
                    {{ form_row(edit_form.zipCode, {'attr': {'class': 'validate',}}) }}
                </div>
                <div class="col m6 s12">
                    {{ form_row(edit_form.city, {'attr': {'class': 'validate',}}) }}
                </div>
                <div class="col m6 s12">
                    <label>date d'embauche</label>
                    {{ form_widget(edit_form.hiringDate, {'attr': {'class': 'validate datepicker',}}) }}
                </div>
            </div>
            <div style="margin-top: 20px;">
                <input class="btn green darken-3" type="submit" value="Enregistrer" />
            </div>
        {{ form_end(edit_form, {'render_rest': false}) }}

    </div>

    <div style="margin: 30px 0px;">
        <a class="btn blue darken-4" href="{{ path('fichefrais_index') }}">Retour à la liste des fiches de frais</a>
    </div>

    {#
    {{ form_start(delete_form) }}
        <input type="submit" value="Delete">
    {{ form_end(delete_form) }}
    #}

{% endblock %}
